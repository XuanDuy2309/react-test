{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import classNames from\"classnames/bind\";import Styles from\"./SlideShow.model.scss\";const cx=classNames.bind(Styles);function Slide(_ref){let{contact,iconL,iconR}=_ref;const[current,setCurrent]=useState(0);const[items,setItems]=useState([]);const[x,setX]=useState(0);const[galleries,setGalleries]=useState(null);const item=document.getElementById('item-w');function getWidth(){if(item!=null&&item!=undefined){const width=item.offsetWidth;return width;}}const setIndexItems=data=>{let items=[];for(let i=0;i<data.length;i++){items.push(i);}setItems(items);};const handleRightSlideShow=()=>{if(galleries){if(current==galleries.length-1){setCurrent(0);setX(0);}else{setCurrent(prevCurrent=>prevCurrent+1);setX(prevX=>prevX-getWidth());}}};const handleLeftSlideShow=()=>{if(current==0){setCurrent(galleries.length-1);setX(getWidth()*-1*(galleries.length-1));}else{setCurrent(prevCurrent=>prevCurrent-1);setX(prevX=>prevX+getWidth());}};useEffect(()=>{const intervalId=setInterval(handleRightSlideShow,5000);const request={method:'GET',headers:{'accept':'application/json'}};fetch(\"https://agiletech-test-api.zeabur.app/galleries\",request).then(res=>res.json()).then(data=>{if(data){setGalleries(data);setIndexItems(data);}}).catch(fail=>console.log(fail));return()=>{clearInterval(intervalId);};},[current]);return/*#__PURE__*/React.createElement(\"div\",{className:\"slide-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper-slide\"},/*#__PURE__*/React.createElement(\"div\",{className:\"slide\"},/*#__PURE__*/React.createElement(\"div\",{className:\"slide-items\",style:{transform:\"translateX(\".concat(x,\"px)\")}},galleries&&galleries.map(gallerie=>/*#__PURE__*/React.createElement(\"div\",{className:\"item\",key:gallerie.id,id:\"item-w\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-avt\"},/*#__PURE__*/React.createElement(\"img\",{src:gallerie.imageUrl,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"item-content\"},/*#__PURE__*/React.createElement(\"span\",{className:\"item-name\"},\"John Fang\"),/*#__PURE__*/React.createElement(\"span\",{className:\"item-contact\"},contact),/*#__PURE__*/React.createElement(\"span\",{className:\"item-about\"},gallerie.desctiption))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"slide-indexs\"},items.map(item=>/*#__PURE__*/React.createElement(\"div\",{className:\"index \".concat(current==item?'index-focus':''),key:item}))),/*#__PURE__*/React.createElement(\"div\",{className:\"slide-btn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-hover\",onClick:handleLeftSlideShow},/*#__PURE__*/React.createElement(\"img\",{src:iconL,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"btn-hover\",onClick:handleRightSlideShow},/*#__PURE__*/React.createElement(\"img\",{src:iconR,alt:\"\"}))));}export default Slide;","map":{"version":3,"names":["React","useEffect","useRef","useState","classNames","Styles","cx","bind","Slide","_ref","contact","iconL","iconR","current","setCurrent","items","setItems","x","setX","galleries","setGalleries","item","document","getElementById","getWidth","undefined","width","offsetWidth","setIndexItems","data","i","length","push","handleRightSlideShow","prevCurrent","prevX","handleLeftSlideShow","intervalId","setInterval","request","method","headers","fetch","then","res","json","catch","fail","console","log","clearInterval","createElement","className","style","transform","concat","map","gallerie","key","id","src","imageUrl","alt","desctiption","onClick"],"sources":["/Users/daovu/web/react-test/src/components/SlideShow/index.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport classNames from \"classnames/bind\";\nimport Styles from \"./SlideShow.model.scss\";\n\nconst cx = classNames.bind(Styles);\n\nfunction Slide({\n    contact,\n    iconL,\n    iconR\n               }) {\n    const [current, setCurrent] = useState(0);\n    const [items,setItems] = useState([]);\n    const [x, setX] = useState(0);\n    const [galleries,setGalleries] = useState(null);\n    const item =document.getElementById('item-w');\n\n    function getWidth(){\n        if (item!=null&&item!=undefined){\n            const width = item.offsetWidth;\n            return width;\n        }\n    }\n\n\n    const setIndexItems=(data)=>{\n        let items =[];\n        for (let i=0;i<data.length;i++){\n            items.push(i);\n        }\n        setItems(items);\n    }\n\n    const handleRightSlideShow = ()=> {\n        if (galleries){\n            if (current == galleries.length - 1) {\n                setCurrent(0);\n                setX(0);\n            } else {\n                setCurrent((prevCurrent) => prevCurrent + 1);\n                setX((prevX) => prevX - getWidth());\n            }\n        }\n    }\n\n    const handleLeftSlideShow = ()=> {\n        if (current == 0) {\n            setCurrent(galleries.length-1);\n            setX( getWidth()*(-1)* (galleries.length - 1));\n        } else {\n            setCurrent((prevCurrent) => prevCurrent - 1);\n            setX((prevX) => prevX + getWidth());\n        }\n    }\n\n    useEffect(() => {\n        const intervalId = setInterval(handleRightSlideShow, 5000);\n\n        const request = {\n            method: 'GET',\n            headers: {\n                'accept': 'application/json',\n            },\n        };\n        fetch(`https://agiletech-test-api.zeabur.app/galleries`, request)\n            .then(res => res.json())\n            .then(data => {\n                if (data){\n                    setGalleries(data);\n                    setIndexItems(data);\n                }\n\n            }).catch(fail=>console.log(fail));\n        return () => {\n            clearInterval(intervalId);\n        }\n    }, [current]);\n    return (\n        <div className=\"slide-container\">\n            <div className=\"wrapper-slide\">\n                <div className=\"slide\">\n                    <div\n                        className=\"slide-items\"\n                        style={{\n                            transform: `translateX(${x}px)`,\n                        }}\n                    >\n                        {\n                            galleries && galleries.map((gallerie) => (\n                                <div className=\"item\" key={gallerie.id} id=\"item-w\">\n                                    <div className=\"item-avt\">\n                                        <img src={gallerie.imageUrl} alt=\"\" />\n                                    </div>\n\n                                    <div className=\"item-content\">\n                                        <span className=\"item-name\">John Fang</span>\n                                        <span className=\"item-contact\">{contact}</span>\n                                        <span className=\"item-about\">{gallerie.desctiption}</span>\n                                    </div>\n                                </div>\n                            ))\n                        }\n\n\n                    </div>\n\n                </div>\n            </div>\n\n            <div className=\"slide-indexs\">\n                {\n                    items.map(item => (\n                        <div className={`index ${(current==item)?'index-focus':''}`} key={item}></div>\n                    ))\n                }\n\n            </div>\n\n            <div className=\"slide-btn\">\n                <div className=\"btn-hover\" onClick={handleLeftSlideShow}>\n                    <img src={iconL} alt=\"\"/>\n                </div>\n\n                <div className=\"btn-hover\" onClick={handleRightSlideShow}>\n                    <img src={iconR} alt=\"\"/>\n                </div>\n\n            </div>\n        </div>\n    );\n}\n\nexport default Slide;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}